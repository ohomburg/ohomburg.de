language: c
dist: xenial
addons:
  snaps:
  - name: hugo
    channel: extended
branches:
  only: master
script: hugo
before_deploy:
- openssl aes-256-cbc -K $encrypted_e64e26c049ef_key -iv $encrypted_e64e26c049ef_iv
  -in deploy_rsa.enc -out /tmp/deploy_rsa -d
- eval "$(ssh-agent -s)"
- chmod 600 /tmp/deploy\_rsa
- ssh-add /tmp/deploy\_rsa
deploy:
- provider: script
  skip_cleanup: true
  script: |
    echo "$DEPLOY_HOST_KEY" >> $HOME/.ssh/known_hosts
    rsync -avz --delete-after public/ $DEPLOY_USER@$DEPLOY_HOST:$DEPLOY_DIRECTORY
    'curl -X POST "https://api.cloudflare.com/client/v4/zones/$CF_ZONE/purge_cache" \
      -H "X-Auth-Email: $CF_EMAIL" -H "X-Auth_Key: $CF_AUTH" -H "Content-Type: application/json" \
      --data ''{"purge_everything":true}'''
  on:
    repo: ohomburg/ohomburg.de
env:
  global:
  - secure: avAHb4q3F3XjMr0vNRv/aNCAHsMVRcoaA7wUz0k0Fq0hIz0mGLE/WL/ckFvbFZ9gJMPzG/1mXw4WtZ0ulKgE+MeUPTVuBjo9JNTydqo/batbhdB1ABzbAQn2GVzxTHauq7/iE/491tlY0jvYY7sDRFDTV0lFPW0UUx87mN8aNqSfloR0bJML4EMPjB45euJMR9tZsjdsjJ6crL0jBpFmJfng14gEJBo7Vz26uK0nQuCbzFghdsASXqXI1NfZ8AcYUqMAhrwwMURPI4aLPV/UTJjQlBHYsbcN/ldFVc5u+KvPL003DjXiVKIRgwVhWoxVmKLg72xtREd3fh+v0j37cp4CXJgPDIlGUvm/SLZZka/vVpZ74N8D7REjt5RzBpNo6LXHs/eDvDAWPTVx9vTJmiwfv4alDdXLi7/upIpq8j3laxY6wXkcD7i3f7VEHOY+kfTwwAD9M+iqP/2nBVHnTFzsbxeUIivnJAZwHqRmTZjsTBe660n1rUBeZSvnb0qCBbbLpzRr6hE26eQAN3BNlPU+Wa1tMnEMwFab24IBSEi8QXYUOqAXa5zi0rdB/EeR/AwFZAyCDLIn/WTD4OZDG2VaSJmRF7KKnqdTc2+QaMYGLwiMTBZQLKqJ4i+n6TCk25Kmh7OpGRxvvCcURf0C0b5EUicbrjmh3NfwKWJ8EVU=
  - secure: oyE+NiF+70+4CugRBIDxmNqLBYamhWiABoa8cZFWrfpukgjU34EYSyhAU/RPxW0AAMGmSMNplsmNTmAhYLopgPqKu0v+DODG7aPWXSgFf4Ow8vuGgg9ymRi4prpBy/Iblz5vSz9YWk/zddD622jUIfw8Vfa/EDtuxfl/FyJ4U4FseYRpswwdOboEV6ixS+4UQUYDjQhZod8bQz0T9Nw52cvd++xnqj5VaOi1aDxB0SfGnuvoaLOiOMQe17UVd03lCDKDyJK8lihkAHpyvik5ejuZmJ5s7JeFBn/rA1ARznFJKEXLAQgDZBVeXGdHVtjQ9Xf++5uNAfFqyRfC2hpnb0dQ8jDkxe/JyEC2DNUgfrOeq6/H1NRoZGKwG0Jn0PW3sNsWUgSLuL0WxsEs+DaKNdjBog9IXhhEdzZwbEvX3dsCWwCSDIpXmrg3//qeGVVy9D3/oOrkdiCKx9zaQ6MSF+/ne0Ihw80jsVd2EbBNidbeWsTr2Pz4tMWfvo2u7ROXIl5H7m/snPJbsGINxKjwyQyRkKKLS53jffIwbtDS6bv8EVZDIWS23BK0xdgHjLnsuU15Laa7xXEwNGAe/EqRflMumKzpxhmswRR1d/aq6lwaTAQdZrHlPl8cONz7K7NPLM43FbToU+eJ4vGv2Gbg/jyIY8nP0MtH8a4KCcmf0oQ=
  - secure: wWlCZPkLfNm0JJ3ZeMRhfX6dmdN51+xni0tC8Jykz0ZbXlDtoGvn1z5vh5UNHM9xtxRNjVMDUoKkMorsxlMWDSk4eFQx03iXYcAdqXPN2SrLxj9hYENXjTZ5rVsUTbvcZbenYzBLuL49T64XCw4/0cP0fh1pSUaibIXlAjXIn372P5x54o0AxG6DBI2X7PDB0iHkWy6ripURBR+PO846HszML8dw4HWJlYxd1/uE3SYb6j/Q3GBvvV5Ndrc8ycQTD8ZETeSuIWLj5n0NMAvuh0haLAOGFTOmsa3hw/oVbK+pZRAL+IHpNPfI3szAOg9T4duoHket5U0hU/W5Ond47C9100gIBoPUpUo7tTquVyvI5+JL6oIxINZC5xVsQOTcH2gLaZJ+QYRcd4JIUhBgbo8dsZqgV+ws8PCnyXNkMIpu+o24XZsLV3DVXT2B5p2aAlHz9aBuWI93zqd4JEzRoiD1Ie8VlWK7XYpfRtuxxk1phk7hIWVi3Tu0duYm1RsCYJmcauM39AtWoBebwWooeYzQwDeYDu6tZOMPyeEpULveaumTdQ1Tn+xB20FPncRV6DQ5de1teB6v3RXzYqzaCaMyIiH2wNX5bSKnwBmEppRLCmWs3ZWjhLhHCpe8aavK+j2PhT5zstJ9TGXYMw8NMOCuRxQtEtkAtduhkG4w6+A=
  - secure: rCT5R1O9x+B0j6+8h+0OnDpFJL2YAStmMwswyr6AI9L8rfB0lFSLvM64RzbhJaVmmMKlig59HuPLB6Lz2RW8HRhQAnC0pXYT9fVM2kcMwSS+d1Zw7901bU3Asvj0oi0pHfu4AradxnTy4DSLlotag7NKpgDtZ/6QjwGhblwnxMOQk49nHE8esaDFtZw1OnnvREs+Zp8FixSdKMVwLo25olipe+JarYoX+8Xq5AMIrC65WeP25KME4j3YSi1T0TVIc9acLOW5FuH/lwJUthW/AcB8iUv4ZS46q3i49bz1SOheDER9zY6dY++DKWtQHHXzlmOY38XUVCWRXX6H9/sr/US99qHNjrNyFUsN9z9M/X2PR1tNo+gH0yYeQ+cWHHutIpxxo92lRKO3oDjOlPPUrvMLHydKe6hRWOT/cn6naxtU8nEMnviOo+NwlgdIqXDir3wZhkLt+LieqCh8B1TPoPzKpKn4MDAXuC6Wc3FkH0mvAJEcIq+9iTC8i+5hL0b1XfSqQ8ckYF6Z6MUxtkj8sjFkS6QT48CwCiVjoasb1gwQU7fGYkKZdLYkCet/Q9ioxNpUKlSkxwZusHVSKe3nSqL6c24abYcK7qzhvblmWU/137OGOVZAwVZSrAu6WYN//RTqW1JCTBnutrJbJEdDH2jN90AOFv5AEz9OT+KmvUA=
  - secure: u7GKAvOrWZN45VyWo2Gey2DqjZx8QSYIRZTsAoKlhWeMmy0+4Vq1r9Si8wdzf/v2KVbQErnqGk+JXcQH6bFED/z/tnru5WMk8emf4n+S8WezozSe+e21w5MwtUnCvungZuVvrXrFMpl59jMa2NcVH8CkTDk+WJBm859l84A8QEZHmv0Z9YwvDiEh2tACETkdOJ/gfhJ0IXhwubtBguOpH4iLavRoc3Afdz9p1dHcHJX0cPM0NGoaFI3iWJew7iJgUtBHrHp3FTm02KXKTFPsPZ0niclCF3BHRhqHZ1p3ErAVYTh1L+K5cO/VgbwCQ1gWU98QbTQYMIdAU35zhrJzi4NCXv3FIC6L2xOYNQamcjeSOatO7PP98AMHD931u06mLUx8Cylhdq1vLqV94nt4YWfKMLPmbQtr95ph6bu10LAfWZskivRKkBkZzoCFLprvfrhYl513yRzqsr5gN8oI8NYvBsgkjTgZWapf7KvuyGEpG6jr1gG42nm8kIOTjK39GCaDkZbGpf4Y8pnKFHb3TtxCA+Er75STPsTkLPK9ulLVXGJoz+sOGMxsVjhqB3nQjr7Ma5AghvC6hXBcOVlduTZjVrFzWIxrzrQNqDB+X9RcyIEUFp42gRRE22cf8TorTPX27W0OnRbXIgIhKAXUHKg3VjfpZvXhbS4DiqHgjU4=
  - secure: mCbRPZTbaCCFYLI2Ul7cujOfhF6/3/VjkY87I449QUYaL0yOjV4gFjZEZ3pqwZF2nSct3ai77XpKhA8n8rHjhzdfoD4FFooq7yVJXJeAvMWmDvtslwwpF+KH24PNmomBANVFaFw9ut4pSHsl+jUewAHxh2zYrnvDuknRzUKfrBIe2gzC2rxn0iK/EhFLLAUxrsFbTj+brp8TJ2e02Zi2BJYq4/9d4rxxQgd+Riuq+2w+7A/94OTpdOGstle1spt5rrGQCoYzfvmOiHBU1wELGR2f+i0Sj8SkDxphrQfV6gNKXSzEoX0rDzTo/yZrsc9vyjilqgr9SiMNispGHtSc9DKeodOSk2/v1wVrDx64LYPTAWtQZphV2TX0Y8c1gshH9zolhZWS/TDMSCuzXk7ecS0xi/RJGx20q4+teYZ6oYN/t99wulGp4L1Tu7t0M5Mlz5gsGO5WTZXJ+m5prHy9AxtZTBDZ/0m0x9GL3HzsWdTA1CSI1pXSQyrX9mSU0JZHB1sX0RW2ur89P9JlAqmb701LAo+4Qcqch7QemzDLAbwpiGmsvg0CqxQDxLrMr3Hwbd7DeVvxtSCrr94/U2PWL9UC+GGlaop6a9II4wDAikmnHTVW0pEgsmkORM0CC5S6pBTSe3DUbQUfMOGVyYpPCJTUzMwMsTzTAS2LeuIYH+k=
  - secure: xYz2TZasp5ptXh6IRI2CT1xb7OUd4PNMtGvCKx+Htlg45vZUoxLwH/23c1YOo5idwOiFIjFk62hohlW8IWxgMDPMormPQi4PHSte6JPzqC/bosJeICh4MLKI7LYIqs0JbtujXThtOOGMrwfO/rp1HsXk2TYhm+0Bg1P+d6ygygciWfIMSMJAgcwAM45Q232pvbKyYoFgXlMtEgJvZKOnyL0g0W1LHIsJr+RdLr0ant9cuvVWz1KfRhQkjPMEVjxOHPn0eksbyccte3p7gS5QavGbBpaMGQdHWenavF3gD9GfBe+VJvtwLNf4h2NDDHtklAkHFlWxw/h/1TvLOoG5stu5u86aycxYuNZhrcllVu6CSA4mHmIoYwel9sfmLgkgolfM5ByYMiWVSc2UMqjQE2CIlOMUQTR4vHUUjb2ZkbPP5ksQWjhZU/0sOfP+jV6dvbZ7wVq85ioI/hT5N8tNBdUvJBUhu3P/Vo5V96DuqiZgUKzt9R7yk7dMPWNMA/d43kiNLv4qKRG1kR+RCVwxpPrGVbmdo3xqXL0uMW18e9Lj66HDLQmPozmwWLXxbouYoUpWHtVh90tz1IG5SQ9FyFyQ7M5xnXX/1N4IKHpqTQL/kBpgy3/5+/sAJTyjZB+jSuyZT9HgjbV+ksFLa+b1kMovJgvXXogBudkrK07PXSw=
